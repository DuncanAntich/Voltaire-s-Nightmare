# Gain High kingship
country_event = {
  id = high_kingdom.1
  title = high_kingdom.1.t
  desc = high_kingdom.1.d
  picture = GOOD_WITH_MONARCH_eventPicture

  trigger = {
    is_subject = no
    primary_culture = irish
    NOT = {has_country_modifier = high_king_ireland}
    OR = {
      all_country = {
        NOT = {has_country_modifier = high_king_ireland}
      }
      has_country_modifier = high_king_revolter
    }
    is_at_war = no
  }

  mean_time_to_happen = {
    months = 0
  }

  option = {
    name = high_kingdom.1.a
    add_country_modifier = {
      name = "high_king_ireland"
      duration = -1
    }
    if = {
      limit = {
        has_country_modifier = high_king_revolter
      }
      remove_country_modifier = high_king_revolter
      every_country = {
        limit = { has_country_modifier = high_king_ireland }
        every_subject_country = {
          country_event = {
            id = high_kingdom.4
            days = 150
          }
        }
        ROOT = {
          create_subject = {
            who = PREV
            subject_type = ire_trib_state
          }
        }
      }
    }
  }
}
# Lose High Kingship/Independence War
country_event = {
  id = high_kingdom.2
  title = high_kingdom.2.t
  desc = high_kingdom.2.d
  picture = ANGRY_MOB_eventPicture

  trigger = {
    is_subject = yes
    OR = {
      has_country_modifier = high_king_ireland
      has_country_modifier = high_king_revolter
    }

  }

  mean_time_to_happen = {
    months = 0
  }

  option = {
    name = high_kingdom.2.a
    remove_country_modifier = high_king_ireland
    remove_country_modifier = high_king_revolter
    add_country_modifier ={
      name = "disgraced_nation"
      duration = 3650
    }
  }
}

#Independence Cleanup
country_event = {
  id = high_kingdom.3
  title = high_kingdom.3.t
  desc = high_kingdom.3.d
  picture = GOOD_WITH_MONARCH_eventPicture

  trigger = {
    is_subject = no
    primary_culture = irish
    NOT = {has_country_modifier = high_king_ireland}
    NOT = {has_country_modifier = high_king_revolter}
  }

  mean_time_to_happen = {
    months = 0
  }

  option = {
    name = high_kingdom.3.a
    every_country = {
      limit = { has_country_modifier = high_king_ireland }
      create_subject = {
        who = ROOT
        subject_type = ire_trib_state
      }
    }
  }
}
#Dispute New high King
country_event = {
  id = high_kingdom.4
  title = high_kingdom.4.t
  desc = high_kingdom.4.d
  picture = BATTLE_eventPicture

  is_triggered_only = yes
  #Claim It!
  option = {
    name = high_kingdom.4.a
    ai_chance = {
      factor = 35
      modifier = {
        factor = 2
        NOT = {
          has_opinion = {
            who = PREV
            value = 0
          }
        }
      }
      modifier = {
        factor = 0.5
        marriage_with = PREV
      }
      modifier = {
        factor = 0.5
        has_opinion = {
          who = PREV
          value = 100
        }
      }
      modifier = {
        factor = 0
        alliance_with = PREV
      }
    }
    overlord = {
        ROOT = {
            declare_war_with_cb = {
                who = PREV
                casus_belli = cb_independence_war
            }
        }
    }
    add_stability = -1
    add_country_modifier = {
        name = "high_king_revolter"
        duration = -1
    }
  }
  #Don't
  option = {
    name = high_kingdom.4.b
    ai_chance = {
      factor = 65
    }
  }
}
